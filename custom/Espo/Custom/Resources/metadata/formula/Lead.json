{
    "beforeSaveCustomScript": "// Check if the custom contact link is present\n// Trigger only when 'Existing Customer' is selected or changed\nifThen(\n    entity\\isAttributeChanged('cContactId') && cContactId != null,\n    \n    // Personal Details Mapping\n    firstName = cContact.firstName;\n    lastName = cContact.lastName;\n    middleName = cContact.middleName;\n    emailAddress = cContact.emailAddress;\n    phoneNumber = cContact.phoneNumber;\n    \n    // Identity & Demographic Mapping (Based on your screenshots)\n    cNICNo = cContact.cNICNumber;\n    cDateOfBirth = cContact.cDateOfBirth;\n    cGender = cContact.cGender;\n    \n    // Address Mapping\n    addressStreet = cContact.addressStreet;\n    addressCity = cContact.addressCity;\n    addressState = cContact.addressState;\n    addressCountry = cContact.addressCountry;\n    addressPostalCode = cContact.addressPostalCode;\n    \n    // Branch Mapping (Copying the Link)\n    cBranchId = cContact.cBranchId;\n    cBranchName = cContact.cBranchName;\n\n    // Ensure the Lead record has a visible name in lists\n    name = string\\concatenate(firstName, ' ', lastName);\n);\n    \n    // Generate: L + 20251227 + Unix Timestamp (Last 4 digits)\n    \n    cLeadId = 'L-' + cLeadID"
}